{"ast":null,"code":"import _classCallCheck from\"/Users/cagl18/Projects/Virtualenvs/Portfolio projects/easy-homes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/cagl18/Projects/Virtualenvs/Portfolio projects/easy-homes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/cagl18/Projects/Virtualenvs/Portfolio projects/easy-homes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/cagl18/Projects/Virtualenvs/Portfolio projects/easy-homes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/cagl18/Projects/Virtualenvs/Portfolio projects/easy-homes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Map from'../../components/map';import SearchBar from'../../components/searchBar';import Nav from'../../components/UI/navbar';import Listings from'../../components/listings';import listing_data from'../../components/data/dummy_data';var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);function Search(){var _getPrototypeOf2;var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Search)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={listing_data:listing_data,filtered_data:listing_data,searchText:''};_this.filterData=function(kw){console.log('previous data ',_this.state.listing_data);console.log('previous search KW here: ',_this.state.searchText);console.log('new search KW here: ',kw);var searchText=kw.trim().toLowerCase();console.log('inside the if statement ',_this.state.searchText);var newData=_this.state.listing_data.filter(function(l){var doesIdMatches=l.id.toString().match(searchText);var address=l.address.toLowerCase();var doesAddressMatches=address.match(searchText);var neighborhood=l.neighborhood.toLowerCase();var doesNeighborhoodMatches=neighborhood.match(searchText);var city=l.city.toLowerCase();var doesCityMatches=city.match(searchText);var agent=l.agent.name.toLowerCase();var doesAgentMatches=agent.match(searchText);var zipcode=l.zipcode.toString();var doesZipcodeMatches=zipcode.match(searchText);console.log('filter :',doesAddressMatches);if(doesIdMatches!==null||doesAddressMatches!==null||doesNeighborhoodMatches!==null||doesCityMatches!==null||doesAgentMatches!==null||doesZipcodeMatches!==null){return true;}else{return false;}});// console.log('new state data ', newData);\n_this.setState({filtered_data:newData});};_this.onSearch=function(kw){_this.setState({searchText:kw});_this.filterData(kw);};return _this;}_createClass(Search,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"searchpage\"},React.createElement(\"div\",{className:\"searchpage__nav\"},React.createElement(Nav,null,React.createElement(SearchBar,{onSearch:this.onSearch}))),React.createElement(\"div\",{className:\"searchpage__content\"},React.createElement(Map,{zoom:14}),React.createElement(\"div\",{className:\"listings\"},React.createElement(Listings,{data:this.state.filtered_data}))));}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["/Users/cagl18/Projects/Virtualenvs/Portfolio projects/easy-homes/src/js/layout/search/index.js"],"names":["React","Component","Map","SearchBar","Nav","Listings","listing_data","Search","state","filtered_data","searchText","filterData","kw","console","log","trim","toLowerCase","newData","filter","l","doesIdMatches","id","toString","match","address","doesAddressMatches","neighborhood","doesNeighborhoodMatches","city","doesCityMatches","agent","name","doesAgentMatches","zipcode","doesZipcodeMatches","setState","onSearch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Map from '../../components/map';\nimport SearchBar from '../../components/searchBar';\nimport Nav from '../../components/UI/navbar';\nimport Listings from '../../components/listings';\nimport listing_data from '../../components/data/dummy_data';\n\nclass Search extends Component {\n  state = { listing_data, filtered_data: listing_data, searchText: '' };\n\n  filterData = kw => {\n    console.log('previous data ', this.state.listing_data);\n    console.log('previous search KW here: ', this.state.searchText);\n    console.log('new search KW here: ', kw);\n\n    const searchText = kw.trim().toLowerCase();\n    console.log('inside the if statement ', this.state.searchText);\n    const newData = this.state.listing_data.filter(l => {\n      const doesIdMatches = l.id.toString().match(searchText);\n\n      const address = l.address.toLowerCase();\n      const doesAddressMatches = address.match(searchText);\n\n      const neighborhood = l.neighborhood.toLowerCase();\n      const doesNeighborhoodMatches = neighborhood.match(searchText);\n\n      const city = l.city.toLowerCase();\n      const doesCityMatches = city.match(searchText);\n\n      const agent = l.agent.name.toLowerCase();\n      const doesAgentMatches = agent.match(searchText);\n\n      const zipcode = l.zipcode.toString();\n      const doesZipcodeMatches = zipcode.match(searchText);\n\n      console.log('filter :', doesAddressMatches);\n      if (\n        doesIdMatches !== null ||\n        doesAddressMatches !== null ||\n        doesNeighborhoodMatches !== null ||\n        doesCityMatches !== null ||\n        doesAgentMatches !== null ||\n        doesZipcodeMatches !== null\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n    // console.log('new state data ', newData);\n    this.setState({ filtered_data: newData });\n  };\n  onSearch = kw => {\n    this.setState({ searchText: kw });\n    this.filterData(kw);\n  };\n\n  render() {\n    return (\n      <div className='searchpage'>\n        {/* <p> {this.props.searched_input} </p> */}\n        <div className='searchpage__nav'>\n          <Nav>\n            <SearchBar onSearch={this.onSearch} />\n          </Nav>\n        </div>\n        <div className='searchpage__content'>\n          <Map zoom={14} />\n          <div className='listings'>\n            <Listings data={this.state.filtered_data} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}