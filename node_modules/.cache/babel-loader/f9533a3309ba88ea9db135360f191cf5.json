{"ast":null,"code":"var _jsxFileName = \"/Users/cagl18/Projects/Virtualenvs/Portfolio projects/easy-homes-old/original/src/js/layout/search/index.js\";\nimport React, { Component } from 'react';\nimport Map from '../../components/map';\nimport SearchBar from '../../components/searchBar';\nimport Nav from '../../components/UI/navbar';\nimport Listings from '../../components/listings';\nimport listing_data from '../../components/data/dummy_data';\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      listing_data,\n      filtered_data: listing_data,\n      searchText: ''\n    };\n\n    this.filterData = kw => {\n      // console.log('previous data ', this.state.listing_data);\n      // console.log('previous search KW here: ', this.state.searchText);\n      // console.log('new search KW here: ', kw);\n      const searchText = kw.trim().toLowerCase();\n      console.log('inside the if statement ', this.state.searchText);\n      const newData = this.state.listing_data.filter(l => {\n        const doesIdMatches = l.id.toString().match(searchText);\n        const address = l.address.toLowerCase();\n        const doesAddressMatches = address.match(searchText);\n        const neighborhood = l.neighborhood.toLowerCase();\n        const doesNeighborhoodMatches = neighborhood.match(searchText);\n        const city = l.city.toLowerCase();\n        const doesCityMatches = city.match(searchText);\n        const agent = l.agent.name.toLowerCase();\n        const doesAgentMatches = agent.match(searchText);\n        const zipcode = l.zipcode.toLowerCase();\n        const doesZipcodeMatches = zipcode.match(searchText);\n        console.log('filter :', doesAddressMatches);\n\n        if (doesIdMatches !== null || doesAddressMatches !== null || doesNeighborhoodMatches !== null || doesCityMatches !== null || doesAgentMatches !== null || doesZipcodeMatches !== null) {\n          return true;\n        } else {\n          return false;\n        }\n      }); // console.log('new state data ', newData);\n\n      this.setState({\n        filtered_data: newData\n      });\n    };\n\n    this.onSearch = kw => {\n      this.setState({\n        searchText: kw\n      });\n      this.filterData(kw);\n    };\n  }\n\n  // componentDidUpdate() {\n  //   console.log('SearchTerm :', this.state.searchText);\n  // }\n  render() {\n    return React.createElement(\"div\", {\n      className: \"searchpage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"searchpage__nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(SearchBar, {\n      onSearch: this.onSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"searchpage__content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Map, {\n      zoom: 14,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"listings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Listings, {\n      data: this.state.filtered_data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/cagl18/Projects/Virtualenvs/Portfolio projects/easy-homes-old/original/src/js/layout/search/index.js"],"names":["React","Component","Map","SearchBar","Nav","Listings","listing_data","Search","state","filtered_data","searchText","filterData","kw","trim","toLowerCase","console","log","newData","filter","l","doesIdMatches","id","toString","match","address","doesAddressMatches","neighborhood","doesNeighborhoodMatches","city","doesCityMatches","agent","name","doesAgentMatches","zipcode","doesZipcodeMatches","setState","onSearch","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Map from '../../components/map';\nimport SearchBar from '../../components/searchBar';\nimport Nav from '../../components/UI/navbar';\nimport Listings from '../../components/listings';\nimport listing_data from '../../components/data/dummy_data';\n\nclass Search extends Component {\n  state = { listing_data, filtered_data: listing_data, searchText: '' };\n\n  filterData = kw => {\n    // console.log('previous data ', this.state.listing_data);\n    // console.log('previous search KW here: ', this.state.searchText);\n    // console.log('new search KW here: ', kw);\n\n    const searchText = kw.trim().toLowerCase();\n    console.log('inside the if statement ', this.state.searchText);\n    const newData = this.state.listing_data.filter(l => {\n      const doesIdMatches = l.id.toString().match(searchText);\n\n      const address = l.address.toLowerCase();\n      const doesAddressMatches = address.match(searchText);\n\n      const neighborhood = l.neighborhood.toLowerCase();\n      const doesNeighborhoodMatches = neighborhood.match(searchText);\n\n      const city = l.city.toLowerCase();\n      const doesCityMatches = city.match(searchText);\n\n      const agent = l.agent.name.toLowerCase();\n      const doesAgentMatches = agent.match(searchText);\n\n      const zipcode = l.zipcode.toLowerCase();\n      const doesZipcodeMatches = zipcode.match(searchText);\n\n      console.log('filter :', doesAddressMatches);\n      if (\n        doesIdMatches !== null ||\n        doesAddressMatches !== null ||\n        doesNeighborhoodMatches !== null ||\n        doesCityMatches !== null ||\n        doesAgentMatches !== null ||\n        doesZipcodeMatches !== null\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n    // console.log('new state data ', newData);\n    this.setState({ filtered_data: newData });\n  };\n  onSearch = kw => {\n    this.setState({ searchText: kw });\n    this.filterData(kw);\n  };\n\n  // componentDidUpdate() {\n  //   console.log('SearchTerm :', this.state.searchText);\n  // }\n  render() {\n    return (\n      <div className='searchpage'>\n        {/* <p> {this.props.searched_input} </p> */}\n        <div className='searchpage__nav'>\n          <Nav>\n            <SearchBar onSearch={this.onSearch} />\n          </Nav>\n        </div>\n        <div className='searchpage__content'>\n          <Map zoom={14} />\n          <div className='listings'>\n            <Listings data={this.state.filtered_data} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}